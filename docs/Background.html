<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>background | @tidepool/viz</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../docs/FeatureOverview.html" />
    
    
    <link rel="prev" href="../docs/StartHere.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="1.1"
        data-chapter-title="background"
        data-filepath="docs/Background.md"
        data-basepath=".."
        data-revision="Tue Nov 22 2016 22:19:56 GMT-0800 (PST)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="docs/StartHere.html">
            
                
                    <a href="../docs/StartHere.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        @tidepool/viz developer guide
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.1" data-path="docs/Background.html">
            
                
                    <a href="../docs/Background.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        background
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="docs/FeatureOverview.html">
            
                
                    <a href="../docs/FeatureOverview.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        overview of features
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="docs/Architecture.html">
            
                
                    <a href="../docs/Architecture.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        planned architecture
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="docs/DirectoryStructure.html">
            
                
                    <a href="../docs/DirectoryStructure.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                        app &amp; directory structure
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="docs/CodeStyle.html">
            
                
                    <a href="../docs/CodeStyle.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.5.</b>
                        
                        code style
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="docs/Dependencies.html">
            
                
                    <a href="../docs/Dependencies.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        usage of dependencies
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="docs/D3.html">
            
                
                    <a href="../docs/D3.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        D3
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="docs/Moment.html">
            
                
                    <a href="../docs/Moment.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Moment
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="docs/React.html">
            
                
                    <a href="../docs/React.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        React
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="docs/Redux.html">
            
                
                    <a href="../docs/Redux.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Redux
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="docs/Webpack.html">
            
                
                    <a href="../docs/Webpack.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        webpack
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="docs/Misc.html">
            
                
                    <a href="../docs/Misc.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        misc
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="docs/TimeRenderingModes.html">
            
                
                    <a href="../docs/TimeRenderingModes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Time-rendering modes
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >@tidepool/viz</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h2 id="background">Background</h2>
<p>This repository represents an incremental rewrite of Tidepool&apos;s data visualization code. The first implementation of Tidepool&apos;s data visualization can be found in <a href="https://github.com/tidepool-org/tideline" title="GitHub: tideline" target="_blank">tideline</a>.</p>
<p>We continue to develop the data visualization code in a separate repository from Tidepool&apos;s main web application <a href="https://github.com/tidepool-org/blip" title="GitHub: blip" target="_blank">blip</a> for several reasons:</p>
<ul>
<li>separation of concerns: the visualization code has distinct requirements, dependencies, and development practices from the rest of blip</li>
<li>potential use by third parties building their own web applications on top of the Tidepool platform but who want to leverage some of the same data visualization components as those used in blip</li>
</ul>
<p>Historically, tideline was a separate codebase for one additional reason that is no longer a concern for us: we wanted to keep the visualization code &quot;pure&quot; D3 and in particular wanted to only have a React dependency in the blip codebase to avoid forcing the choice of React as a framework on third parties who might want to use our visualization code. In 2013-2014 when React was not yet the juggernaut framework it is today, this made a lot more sense.</p>
<p>Today with <a href="http://stateofjs.com/2016/frontend/" title="The State of JavaScript 2016: Front-end frameworks" target="_blank">React having the majority of use &amp; interest</a> among front-end JavaScript frameworks, it is much less of a concern. Moreover, experience taught us&#x2014;the hard way&#x2014;that there aren&apos;t a lot of really good patterns or frameworks for creating consistent, long-term maintainable, and easily testable D3 code<sup><a href="#fn_a" id="reffn_a">a</a></sup>. On the other hand, React was built at least partly with consistency, maintainability, and testability in mind, and there are well-established community best practices to follow in order to achieve these goals. As a result, our rewrite of Tidepool&apos;s data visualization code now includes React as a core dependency, and we are shifting from a strategy of using D3 as much as possible to the opposite: we aim to use React as much as possible and only bring in the small modules we need from <a href="https://github.com/d3/d3/blob/master/CHANGES.md" title="Changes in D3 4.0" target="_blank">the 4.x rearchitected D3</a> as individual dependencies&#x2014;e.g., <a href="https://github.com/d3/d3-scale" title="GitHub: d3-scale" target="_blank">d3-scale</a> and <a href="https://github.com/d3/d3-time" title="GitHub: d3-time" target="_blank">d3-time</a>.</p>
<h3 id="state-of-the-rewrite">State of the rewrite</h3>
<h4 id="as-of-november-2016">As of November, 2016...</h4>
<p>Blip depends on @tidepool/viz for:</p>
<ul>
<li>Device Settings (new implementation)</li>
<li>Trends (CGM version as new implementation, BGM version a port of more-or-less equivalent functionality from tideline&apos;s code)</li>
</ul>
<p>Blip still depends on tideline for:</p>
<ul>
<li>Basics view</li>
<li>Daily view</li>
<li>Weekly view</li>
<li>data preprocessing (found in <a href="https://github.com/tidepool-org/tideline/tree/master/plugins/nurseshark" title="GitHub: tideline plugins/nurseshark/" target="_blank">&quot;nurseshark&quot;</a> and <a href="https://github.com/tidepool-org/tideline/blob/master/js/tidelinedata.js" title="GitHub: tideline js/tidelinedata.js" target="_blank">the TidelineData constructor</a>)</li>
</ul>
<p>Blip itself handles:</p>
<ul>
<li>most of the visualization state management (e.g., checkbox options for BGM version of Trends view)</li>
<li>navigation from view to view and along the time dimension</li>
</ul>
<p>The eventual goal is for <em>everything</em> listed above to be handled by code in this repository. That is, eventually all code for all the data views as well as for the data preprocessing and visualization state management, including the navigation from view to view and along the time dimension will live this repository.</p>
<hr>
<blockquote id="fn_a">
<sup>a</sup>. The Miso project&apos;s <a href="http://misoproject.com/d3-chart/" title="Miso Project: d3.Chart" target="_blank">d3.Chart</a> was the most promising attempt at a lightweight &quot;framework&quot; for D3 heavily inspired by <a href="http://backbonejs.org/" title="Backbone.js" target="_blank">Backbone</a>&apos;s API, but the project&apos;s support has unfortunately been sporadic, and it <a href="https://github.com/misoproject/d3.chart/issues/121" title="GitHub: d3.chart issue #121" target="_blank">has not yet been updated to support the 4.x version of D3</a>. Nevertheless, we used d3.Chart in <a href="https://github.com/tidepool-org/tideline/tree/master/plugins/blip/modalday" title="GitHub: tideline modalday" target="_blank">the tideline version of the Trends view</a>.<a href="#reffn_a" title="Jump back to footnote [a] in the text."> &#x21A9;</a>
</blockquote>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../docs/StartHere.html" class="navigation navigation-prev " aria-label="Previous page: @tidepool/viz developer guide"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../docs/FeatureOverview.html" class="navigation navigation-next " aria-label="Next page: overview of features"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
